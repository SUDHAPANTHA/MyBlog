{% extends "base.html" %} {% block content %}
<div class="row">
  {% for post in posts %}
  <div class="col-md-4 mb-4 py-4">
    <div class="card h-100 py-4 shadow-lg">
      {% if post.image %}
      <img
        src="{{ post.image.url }}"
        class="card-img-top"
        alt="{{ post.title }}"
        style="width: 100%; height: 200px; object-fit: cover"
      />
      {% endif %}
      <div class="card-body">
        <h5 class="card-title">{{ post.title }}</h5>
        <p class="card-text">{{ post.content|truncatechars:100 }}</p>
        <div class="d-flex justify-content-between">
          <a
            href="{% url 'post-detail' post.pk %}"
            class="btn btn-primary btn-sm"
            >View</a
          >
          <a href="" class="btn btn-warning btn-sm">Edit</a>
          <form
            action="{% url 'post-delete' post.pk %}"
            method="post"
            style="display: inline"
          >
            {% csrf_token %}
            <button
              type="submit"
              class="btn btn-danger btn-sm shadow-none"
              onclick="return confirm('Are you sure you want to delete this post?');"
            >
              Delete
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
